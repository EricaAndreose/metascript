<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>METASCRIPT</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link rel="icon" type="image/x-icon" href="./img/mask.ico">
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>

<body class="sb-nav-fixed">
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="index.html">
            <h2>METASCRIPT</h2>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="analysis.html">Analysis</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="documentation.html">Documentation</a>
                </li>
            </ul>
        </div>
    </nav>
    <main>
        <section class="spatial">
            <h3 class="analysis-title">Spatial analysis</h3>
            <p>The aim of this analysis is twofold: first, to examine the locations mentioned in both the book and the
                screenplay, and second, to offer a direct comparison between the two portrayals. This will enable the
                reader to gain a precise understanding of the author's attention to detail in describing places and how
                the cinematic adaptation has altered the settings.</p>
            <div class="tables-containers">
                <div class="table-container">
                    <h5>1. Spatial analysis of the book</h5>
                    <iframe src="https://giorgiacrosilla.altervista.org/metascript_map.html"
                        title="Iframe Example"></iframe>
                    <div class="text">
                        <p>The analysis of the book involves a predominantly Vienna-based setting in the early 1900s,
                            where the author is highly specific in mentioning streets, specific buildings, and key
                            locations within the city.</p>
                    </div>
                </div>
                <div class="table-container">
                    <h5>2. Spatial Analysis of the screenplay</h5>
                    <iframe src="https://giorgiacrosilla.altervista.org/screenplay_map.html"
                        title="Iframe Example"></iframe>
                    <div class="text">
                        <p>In the screenplay adapted from the book, the setting is New York at the end of the XX century. In this adaptation, Kubrick
                            doesn't delve into precise details when describing the locations. He mentions generic
                            locations (i.e. "costume shop") without specifying its exact position. Therefore, we have
                            limited information regarding the geographical location of the scenes.</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="network">
            <h3 class="analysis-title">Network Analysis</h3>
            <p>A comparison of character interactions between the original book, the 1996 draft screenplay, and the
                final transcription enables us to observe how these interactions have evolved and transformed during the
                adaptation process. It also helps identify any alterations made to character names.</p>

            <div class="t">
                <div class="containe">
                    <iframe src="https://giorgiacrosilla.altervista.org/Dream_Story_Network.html"
                        title="Iframe Example"></iframe>
                    <div class="text">
                        <p></p>
                    </div>
                </div>


                <div class="containe">
                    <iframe src="https://giorgiacrosilla.altervista.org/Screenplay_1996_Network.html"
                        title="Iframe Example"></iframe>
                    <div class="text">
                        <p></p>
                    </div>
                </div>

                <div class="containe">
                    <iframe src="https://giorgiacrosilla.altervista.org/Screenplay_1999_Network.html"
                        title="Iframe Example"></iframe>
                    <div class="text">
                        <p>this map..........</p>
                    </div>
                </div>
            </div>
        </section>
        <div class="time">
            <h3 class="analysis-title">Time and space analysis</h3>
            <div class="container">
                <div class="item">
                    <div id="chart1"></div>
                </div>
                <div class="item">
                    <div id="chart2"></div>
                </div>
            </div>
            <p>This spatiotemporal analysis considers all the director's scene directions in the 1999 transcription and
                examines the percentage concerning the spatial and temporal setting of the screenplay.</p>
            <p>
                Click on a slice and visualize related images taken from the movie.</p>
            <div class="container">

                <div class="item">
                    <div id="chart"></div>
                </div>
                <div class="item">
                    <div id="image-container" style="display: none;">
                        <img id="selected-image" src="" alt="Selected Image" style="width: auto; height: 200px;" />
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div>
            <h5>Â©UNIBO 2023</h5>
        </div>
    </footer>

</body>
<script src="js/main.js"></script>
<script>
    const data = [{
        values: [83, 21, 22, 1, 7],
        labels: ['NIGHT,INT', 'NIGHT,EXT', 'DAY,INT', 'MORNING,INT', 'DAY,EXT'],
        type: 'pie',
        hoverinfo: 'label+value',
        marker: {
            colors: ['#FF5733', '#FFC300', '#DAF7A6']
        }
    }];

    const layout = {
        height: 400,
        width: 500,
    };

    Plotly.newPlot('chart', data, layout);

    const chart = document.getElementById('chart');
    const imageContainer = document.getElementById('image-container');
    const selectedImage = document.getElementById('selected-image');

    chart.on('plotly_click', (eventData) => {
        if (eventData.points.length > 0) {
            const selectedLabel = eventData.points[0].label;
            const imageSrc = getImageForLabel(selectedLabel);

            if (imageSrc) {
                selectedImage.src = imageSrc;
                imageContainer.style.display = 'block';
            }
        }
    });

    function getImageForLabel(label) {
        // Replace with your logic to map labels to image URLs
        switch (label) {
            case 'NIGHT,INT':
                return 'https://pixelsquare.it/wp-content/uploads/2022/04/Pixel-Square-Eyes-wide-shout-Stanley-Kubrick-colore-espressione-interiorita-Cover-1-1024x683.jpg';
            case 'NIGHT,EXT':
                return 'https://onthesetofnewyork.com/locations/eyeswideshut/eyeswideshut203.jpg';
            case 'DAY,INT':
                return 'https://screenmusings.org/movie/blu-ray/Eyes-Wide-Shut/images/Eyes-Wide-Shut-120.jpg';
            case 'MORNING,INT':
                return 'https://via.placeholder.com/150?text=Image+5';
            case 'DAY,EXT':
                return 'https://via.placeholder.com/150?text=Image+6';
            default:
                return null;
        }
    };

    const data1 = [{
        values: [105, 29],
        labels: ['INT', 'EXT'],
        type: 'pie',
        hoverinfo: 'label+value',
        marker: {
            colors: ['#FF5733', '#FFC300', '#DAF7A6']
        }
    }];

    const layout1 = {
        height: 400,
        width: 500,
    };

    Plotly.newPlot('chart1', data1, layout1);


    const data2 = [{
        values: [104, 1, 29],
        labels: ['NIGHT', 'MORNING', 'DAY'],
        type: 'pie',
        hoverinfo: 'label+value',
        marker: {
            colors: ['#FF5733', '#FFC300', '#DAF7A6']
        }
    }];

    const layout2 = {
        height: 400,
        width: 500,
    };

    Plotly.newPlot('chart2', data2, layout2);


</script>


</html>
